<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <title>Tugas DOM</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <style>
            @media(min-width: 1200px){
                .container{
                    max-width: 800px;
                }
            }
        </style>
    </head>
    <body>
        <div class="container pt-5" id="container">
            <h3>Document Object Model (DOM)</h3 >
            <br>
            <h5>Pendaftaran Kelompok</h5>
            <div class="form-floating mb-3 mt-3">
                <input type="text" class="form-control" placeholder="-">
                <label>Nama Kelompok</label>
            </div>
            <div class="form-floating mb-3">
                <input type="number" class="form-control" placeholder="-" onchange="JavaScript:createAnggotaKelompok(this.value)">
                <label>Jumlah Anggota</label>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script type="text/javascript">
        function createAnggotaKelompok(jumlahAnggota){
            // If has been created before, remove
            if(document.contains(document.getElementById("divParent"))){
                document.getElementById("divParent").remove();
            }

            // Will only create if jumlahAnggota > 0
            if(jumlahAnggota > 0){
                // Heading
                divParentContainer = document.getElementById("container");
                divParent = document.createElement("div");
                divParent.setAttribute("id", "divParent");  // used as reference if has been created before
                divParentContainer.appendChild(divParent);

                br = document.createElement("br");

                h5 = document.createElement("h5");
                h5.setAttribute("class", "pb-2");
                h5Text = document.createTextNode("Anggota Kelompok:");
                
                divParent.appendChild(br);
                divParent.appendChild(h5).appendChild(h5Text);

                // Create Input Template
                divInput = document.createElement("div");
                divInput.setAttribute("class", "form-floating mb-3");

                inputText = document.createElement("input");
                inputText.setAttribute("type", "text");
                inputText.setAttribute("class", "form-control");
                inputText.setAttribute("placeholder", "-");
                label = document.createElement("label");

                // Append Input and Clone loop
                for(i = 0; i <= jumlahAnggota; i++){
                    if(i == 0){
                        continue;
                    }else if(i == 1){
                        divInputPtr = divParent.appendChild(divInput);
                        divInputPtr.appendChild(inputText);
                        labelText = document.createTextNode("Nama Anggota 1");
                        divInputPtr.appendChild(label).appendChild(labelText);
                    }else{
                        cloneInput = divInputPtr.cloneNode(true);
                        cloneInput.lastChild.firstChild.nodeValue = "Nama Anggota " + i;
                        divParent.appendChild(cloneInput);
                    }
                }

                // Button
                buttonSubmit = document.createElement("button");
                buttonSubmit.setAttribute("type", "submit");
                buttonSubmit.setAttribute("class", "btn btn-primary mt-1");
                buttonText = document.createTextNode("Daftar Kelompok");
                divParent.appendChild(buttonSubmit).appendChild(buttonText);
            }            
        }
        
        </script>
    </body>
</html>